{% extends 'main.html' %} {% block content %}
<style>
  .home-container {
    margin-top: 20px;
    display: flex;
    flex-direction: row;
    gap: 20px;
    margin-left: 10px;
    margin-right: 10px;
    min-height: 90vh;
  }

  .sidebar {
    flex: 0 0 250px;
    padding: 20px;
    background-color: #f8f9fa;
    border-right: 1px solid #dee2e6;
    height: 100%;
    min-height: 90vh;
  }

  .rooms-section {
    flex: 1 1 0%;
    padding: 20px 0 20px 0;
    min-width: 0;
  }
</style>

<div class="home-container">
  <div class="sidebar">
    <h3>Browse Rooms</h3>
    <hr />
    {% if topics %}
    <ul class="list-group">
      <li class="list-group-item">
        <a href="{% url 'home' %}">ALL</a>
      </li>
      {% for topic in topics %}
      <li class="list-group-item">
        <a href="{% url 'home' %}?q={{ topic.name }}">{{ topic.name }}</a>
      </li>
      {% endfor %}
    </ul>
    {% endif %} {% if not topics %}
    <div class="alert alert-info" role="alert">
      No topics available at the moment.
    </div>
    {% endif %}
  </div>
  <div class="rooms-section">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h1 class="mt-5">Home Page</h1>
      <span>{{room_count}} rooms available</span>
      <a href="{% url 'create-room' %}" class="btn btn-primary">Create Room</a>
    </div>
    <div>
      {% if rooms %} {% for room in rooms %}
      <div class="card mb-3">
        <div class="card-body">
          {% if request.user == room.host %}
          <span class="badge bg-success">You are the host</span>
          <a href="{% url 'update-room' room.id %}" class="btn btn-secondary"
            >Edit</a
          >
          <a href="{% url 'delete-room' room.id %}" class="btn btn-secondary"
            >Delete</a
          >
          {% endif %}
          <span>@{{room.host.username}}</span><br />
          <a href="{% url 'room' room.id %}" class="btn btn-primary"
            >{{room.name}}</a
          >
          <br />
          <small>{{room.topic}}</small>
        </div>
      </div>
      {% endfor %} {% else %}
      <div class="alert alert-info" role="alert">
        No rooms available at the moment.
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
